# ===================== 测试侧通用配置（仅作用于 tests/*） =====================
# 说明：
# 1) 这是测试专用 INI，不影响生产运行时配置（src/config/factor_config.ini）。
# 2) 若不想在测试中使用真实 CSV，可删除 [global] 里的路径，测试将回退到“合成数据”逻辑。
# 3) 所有键都可省略；省略时使用测试代码或因子实现中的默认值。

[global]
# —— 测试用共用数据源（可选）——
# 若提供这些 CSV，测试会优先读取并回放；不提供则使用合成数据。
# 路径既可相对（相对测试进程的工作目录），也可绝对路径。

# 交易快照（QuoteDepth）字段：
# instrument_id,data_time_ms,trading_day,volume,turnover,bid_price,ask_price
quotes_csv = tests/data/snapshot_quotes_csv.csv

# 逐笔成交（Transaction，可选但推荐）字段：
# instrument_id,data_time_ms,main_seq,price,side,volume,bid_no,ask_no
transactions_csv = tests/data/transactions_tick_csv.csv

# K线（Bar）字段：
# instrument_id,data_time_ms,open,high,low,close,volume,turnover,interval_ms
bars_csv = tests/data/bars_minute_csv.csv

;
;# ===================== Granger 因子（测试覆盖用） =====================
;[granger]
;# 滑动窗口长度（有效样本上限，单位：条）
;window_size = 120
;
;# y 的滞后阶数 p；x(OFI) 的滞后阶数 q
;p_lags = 1
;q_lags = 1
;
;# 有效样本数低于该阈值时不发布
;min_effective = 30
;
;# 聚合桶宽（毫秒）；仅当使用聚合喂数模式时生效
;bucket_ms = 1000
;
;# 是否输出 -log10(p) 的强度值（便于单调度量）
;use_neglog10 = true
;
;# 是否同时发布原始 p 值（便于断言与调试）
;publish_raw_p = true
;
;
;# （可选）喂数模式：aggregated | event
;# aggregated = 按时间桶聚合；event = 逐条事件驱动（mid 变动触发）
;# feed_mode = aggregated
;
;
;# ===================== Gaussian Copula 因子（测试覆盖用） =====================
;[gaussian]
;# 滑动窗口长度（单位：条）
;window_size = 20
;
;# 正则化系数（防止奇异/除零）
;regularization = 1e-6
;
;
;
;# ===================== TickTransOrders（测试覆盖用） =====================
;[tick_trans_orders]
;# 时间桶宽（毫秒）
;bucket_size_ms = 1000
;
;# 是否输出“两 tick 之间”的切片（不对齐整秒边界）
;emit_tick_interval = true
;
;# ===================== 最小二乘信息增益因子（测试用） =====================
;[lsig]
;# 测试时也用 30 条滑窗，方便与 runtime 对齐
;window_size = 30
;
